{% extends "base.html" %}
{% block content %}

<h2 class="my-4 text-center">üìú –Ü—Å—Ç–æ—Ä—ñ—è —Å—Ç–∞–≤–æ–∫</h2>

<style>
  /* –¶–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ —à–∏—Ä–∏–Ω–∞ */
  .custom-table-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
  }

  table.table {
    min-width: 1000px;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    text-align: center; /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ —Ü–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ */
  }
  td, th {
    vertical-align: middle;
  }

  .badge {
    font-size: 0.9rem;
  }

  .text-truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
</style>

<div class="custom-table-container table-responsive">
  <table class="table table-hover align-middle text-center">
    <thead class="table-light border-bottom border-2">
      <tr class="fw-semibold text-uppercase small">
        <th scope="col">üìÖ –î–∞—Ç–∞</th>
        <th scope="col">‚öîÔ∏è –ú–∞—Ç—á</th>
        <th scope="col">üè≥Ô∏è –ö–æ–º–∞–Ω–¥–∞</th>
        <th scope="col">üí∞ –°—É–º–∞</th>
        <th scope="col">üìà –ö–æ–µ—Ñ.</th>
        <th scope="col">üìä –ü—Ä–∏–±—É—Ç–æ–∫</th>
        <th scope="col">üìå –°—Ç–∞—Ç—É—Å</th>
      </tr>
    </thead>
    <tbody>
      {% for bet in bets %}
      <tr>
        <td class="text-nowrap">{{ bet.created_at|date:"Y-m-d H:i" }}</td>
        <td class="text-truncate" style="max-width: 220px;" title="{{ bet.match }}">{{ bet.match }}</td>
        <td class="text-truncate" style="max-width: 180px;" title="{{ bet.team.name }}">{{ bet.team.name }}</td>
        <td>{{ bet.amount|floatformat:2 }}‚Ç¥</td>
        <td>{{ bet.odds_at_bet_time|floatformat:2 }}</td>
        <td>
          {% if bet.is_won == True %}
            <span class="text-success fw-bold">{{ bet.profit|floatformat:2 }}‚Ç¥</span>
          {% elif bet.is_won == False %}
            <span class="text-danger fw-bold">0‚Ç¥</span>
          {% else %}
            <span class="text-muted fst-italic" title="–û—á—ñ–∫—É–≤–∞–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫">
              {{ bet.potential_profit|floatformat:2 }}‚Ç¥
            </span>
          {% endif %}
        </td>
        <td>
          {% if bet.is_won == True %}
            <span class="badge bg-success">‚úÖ –í–∏–≥—Ä–∞–≤</span>
          {% elif bet.is_won == False %}
            <span class="badge bg-danger">‚ùå –ü—Ä–æ–≥—Ä–∞–≤</span>
          {% else %}
            <span class="badge bg-secondary">‚è≥ –û—á—ñ–∫—É—î—Ç—å—Å—è</span>
          {% endif %}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="7" class="text-center text-muted fst-italic">–°—Ç–∞–≤–æ–∫ —â–µ –Ω–µ–º–∞—î.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
